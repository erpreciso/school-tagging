{% extends "backbone.html" %}

{% block title %}
school-tagging application
{% endblock %}

{% block wrapper %}
<div id="wrapper">
	<header>
		<div id="title">
			<h1><a href="/welcome">School Tagging application</a></h1>
		</div>
		<div id="login_tools">
			{% if not username %}
			<a href="/check/in">Login</a>
			|
			<a href="/check/up">Signup</a>
			|
			{% else %}
			<a href="/check/out">Logout</a>
			|
			{% endif %}
			Connection status: <strong>{{username}}</strong> <div id="connection_status"></div>
		</div>
	</header>
	<button id="show_html">show html code</button>
	{% block payload %}

	{% endblock %}
</div>
<!--
	javascript code for the Channel API
-->
<script>
	channel = new goog.appengine.Channel('{{token}}');
	socket = channel.open();
	socket.onopen = onOpened;
	socket.onmessage = onMessage;
	socket.onerror = function(){};
	socket.onclose = onClose;
</script>
{% endblock %}
